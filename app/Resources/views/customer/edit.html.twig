{% extends 'base.html.twig' %}

{% block body %}
    <h1>Customer edit</h1>

    {{ form_start(edit_form) }}

    {{ form_row(edit_form.username) }}
    {{ form_row(edit_form.firstName) }}
    {{ form_row(edit_form.lastName) }}
    {{ form_row(edit_form.password) }}
    {{ form_row(edit_form.email) }}
    {{ form_row(edit_form.info) }}
    <h3>Cities of customer</h3>

    <ul class="cities" data-prototype="{{form_widget(edit_form.customerCities.vars.prototype)|e('html_attr')}}">
        <div class="customer_cities">
            {% for city in customer.customerCities %}
                <a href="{{ path('admin_customer_city_show', { 'id' : city.id }) }}">
                    {{ city.city.city }}{% if not loop.last %}, {% endif %}
                </a>
            {% endfor %}
        </div>
    </ul>

    <input type="submit" value="Edit"/>
    {{ form_end(edit_form, {'render_rest': false}) }}

    <ul>
        <li>
            <a href="{{ path('admin_customer_index') }}">Back to the list</a>
        </li>
        <li>
            {{ form_start(delete_form) }}
            <input type="submit" value="Delete">
            {{ form_end(delete_form) }}
        </li>
    </ul>
{% endblock %}
